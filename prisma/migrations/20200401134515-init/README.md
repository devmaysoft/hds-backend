# Migration `20200401134515-init`

This migration has been generated by Mina Saleeb at 4/1/2020, 1:45:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `home_design_solutions`.`MagicCode` ADD COLUMN `userId` int NOT NULL ;

CREATE UNIQUE INDEX `MagicCode_userId` ON `home_design_solutions`.`MagicCode`(`userId`)

ALTER TABLE `home_design_solutions`.`MagicCode` ADD FOREIGN KEY (`userId`) REFERENCES `home_design_solutions`.`Employee`(`employeeId`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200401133858-init..20200401134515-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,10 +3,10 @@
   binaryTargets = ["native"]
 }
 datasource mysql {
-  provider = "mysql"
-  url = "***"
+ provider = "mysql"
+ url      = env("MYSQL_URL")
 }
 model Customer {
   address       String
@@ -58,9 +58,10 @@
 }
 model MagicCode {
   code      String   @id
-  user      Employee
+  user      Employee              @relation(fields: [userId],references: [employeeId])
+  userId    Int
   updatedAt DateTime @updatedAt
 }
 model Employee {
```


